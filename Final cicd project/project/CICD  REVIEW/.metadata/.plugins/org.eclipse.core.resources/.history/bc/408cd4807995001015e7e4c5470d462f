package com.example.demo.model;
import javax.persistence.*;
import org.springframework.beans.factory.annotation.Autowired;

import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.stereotype.Service;
import org.springframework.web.bind.annotation.PostMapping;

import com.example.demo.repository.UsersRepository;
@Service
public class EmailManager {
	
	
		@Autowired
		JavaMailSender JMS;
		public String sendEmail (String toEamil,String subject,  String message) {
			try {
				SimpleMailMessage mailMessage =new SimpleMailMessage();
				mailMessage.setFrom("jeenepallyadiseshu@gmail.com");
				mailMessage.setTo(toEamil);
				mailMessage.setSubject(subject);
				mailMessage.setText(message);
				
				JMS.send(mailMessage);
				 return "200::Password sent to the registered email";
		    }catch(Exception e)
		    {
		      return "401::" + e.getMessage();
		    }
			}
		
	}

